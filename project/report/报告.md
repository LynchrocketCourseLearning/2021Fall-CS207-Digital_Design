# 数字逻辑Final Project

## 1 开发计划

### 1.1 选题：

​	停车场收费系统

### 1.2 成员分工

|  姓名  |   学号   |        分工        | 贡献  |
| :----: | :------: | :----------------: | :---: |
| 刘乐奇 | 12011327 | 音乐、键盘、数码管 | 33.3% |
| 何忠荣 | 12011424 |     车的进出场     | 33.3% |
| 廖泽通 | 12011417 |     管理员模式     | 33.3% |

### 1.3 执行记录

第8周，Project选题发布；

12.4， 决定选题；

12.31，最终测试；

12.31，答辩。

## 2 设计

### 2.1 需求分析

#### 2.1.1 系统功能



#### 2.1.2 端口与输入输出设备

<img src="D:\Lynchrocket\大二上\数字逻辑\Project\pic\inout.png" alt="inout" style="zoom:50%;" />

### 2.2 系统结构设计

#### 2.2.1 各模块接口及功能

- 音乐模块：输入接口clk时钟信号，输出接口beep用于利用蜂鸣器播放音乐

<img src="D:\Lynchrocket\大二上\数字逻辑\Project\pic\music.png" alt="music" style="zoom: 50%;" />

- 数码管模块：输入接口clk时钟信号，rst复位信号，mode用于选择静态显示字符（mode高电平）和动态显示字符（mode低电平），text用于传入要显示的文本。输出接口seg_en用于选择显示的位数，seg_out用于显示字符。

<img src="D:\Lynchrocket\大二上\数字逻辑\Project\pic\show.png" alt="show" style="zoom:50%;" />

- 流水灯模块：输入接口clk时钟信号，st开始流水信号（也即开始计时）。输出接口led用于开发板上流水灯的显示，time_end用于传出计时结束的信号。

<img src="D:\Lynchrocket\大二上\数字逻辑\Project\pic\led.png" alt="led" style="zoom:50%;" />

- 小键盘模块：输入接口clk时钟信号，enable启动小键盘。输出接口keyboard_val用于传出按下的小键盘值。row和col用于扫描键盘。

<img src="D:\Lynchrocket\大二上\数字逻辑\Project\pic\key16.png" alt="key16" style="zoom:50%;" />





#### 2.2.2 事务处理流程图

<img src="D:\Lynchrocket\大二上\数字逻辑\Project\pic\flow_chart.png" alt="flow_chart" style="zoom:50%;" />

### 2.3 详细设计





## 3 板上测试



## 4 总结及优化

### 4.1 问题及解决方案

- 对Verilog的规范性不注意，多次将一个变量在多个always块中赋值

### 4.2 提升空间

- 代码可读性较差，期望能有修整。